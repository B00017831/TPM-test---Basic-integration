<html>

<head>

  <!-- Video.js build -->
  <link href="https://vjs.zencdn.net/7.4.1/video-js.min.css" rel="stylesheet">
  <script src="https://vjs.zencdn.net/7.4.1/video.min.js"></script>

  <!-- Streamroot source handler plugin -->
  <script src="https://cdn.streamroot.io/videojs-hlsjs-plugin/1/stable/videojs-hlsjs-plugin.js"></script>

  <!-- Streamroot DNA plugin -->
  <script src="https://cdn.streamroot.io/videojs-hls-dna-plugin/1/stable/videojs-hls-dna-plugin.js#streamrootKey=1c04d9d9-96d7-4bce-be8b-ab38b319047c"></script>

  <!-- Streamroot DNA Graph -->
  <script src="https://tools.streamroot.io/usage-graphs/stable/graphs.js"></script>

</head>

<body>

  <h2>Level3 test page - CDU</h2>

  <video id=demoplayer width=512 height=288 class="video-js vjs-default-skin" controls autoplay muted>
    <source src="http://vod-l3.delivery.streamroot.io/vodOrigin/tos1500.mp4/playlist.m3u8" type="application/x-mpegURL">
  </video>

  <div id="streamroot-graphs"></div>

  <script>
    //Here, content can be identified from the content URL path (multi-CDN)
    function contentIdFn(contentUrl) {
      var l = document.createElement("a");
      l.href = contentUrl;
      return l.pathname;
    }

    var options = {
      html5: {
        hlsjsConfig: {},
      },
      dnaConfig: {
        "contentIdGenerator": contentIdFn
      },
    };
    var player = videojs("demoplayer", options);
  </script>

  <!-- Bonus buttons -->
  <button type="button" onclick="Streamroot.instances[0].dnaUploadAllowed = true">Enable P2P Upload</button>
  <button type="button" onclick="Streamroot.instances[0].dnaUploadAllowed = false">Disable P2P Upload</button>
</body>

</html>
